const express = require('express')
const session = require('express-session')
require('express-group-routes')
const app = express()
const server = require('http').Server(app)
const router = express.Router()
const ejsLint = require('ejs-lint')
const cookieParser = require('cookie-parser')
const Body_parser = require('body-parser')
const expressValidator = require('express-validator')
const home = require('./Router/Home.router')
const staff = require('./Router/Staff.router')
const auth = require('./Apps/midderware/au.midderware')
const Student = require('./Router/Student.router')
require('./Apps/kernal')(app, express, Body_parser, session)
app.use(cookieParser('123@123@!T'))
app.use('/', home)
app.use('/staff',auth.reqAuth,auth.CheckStaff, staff)
app.use('/user', auth.reqAuth, auth.CheckTutorAndStudent, Student)
server.listen(1000)
module.exports = app